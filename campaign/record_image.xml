<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
    Please see the license.html file included with this distribution for 
    attribution and copyright information.
-->

<root>
    <windowclass name="imagewindow" version="&gt;=4" merge="join">
        <!-- <script>
            function onInit()
                super.onInit();
                Debug.chat(image.getTokens());
                for k,v in pairs(image.getTokens()) do
                    Debug.chat(v.getPrototype());
                end
            end
        </script> -->
    </windowclass>
    <!-- <windowclass name="imagewindow_toolbar" version="&gt;=4" merge="join">
        <sheetdata>
            <image_toolbar_button_toggle name="warfaremarkers">
                <icon>tool_warfare_30</icon>
                <script>
                    function onButtonPress()
                        Debug.chat(getValue() == 1);
                    end
                </script>
            </image_toolbar_button_toggle>

            <subwindow name="vanguard_ally">
                <anchored to="toolbar_anchor" width="34" height="34">
                    <top />
                    <right anchor="left" relation="relative" />
                </anchored>
                <script>
                    function onInit()
                        Debug.chat('subwindow init');
                    end
                </script>
                <class>warfare_rowlink</class>
                <token>tokens/Medium/v.png@Letter Tokens</token>
                <icon>token_vanguard_friend</icon>
                <fastinit />
				<activate />
            </subwindow>
        </sheetdata>
    </windowclass> -->

    <!-- <windowclass name="warfare_rowlink">
        <script file="campaign/scripts/warfare_rowlink.lua" />
        <sheetdata>
            <hn name="imagex" />
			<hn name="imagey" />
            <hnc name="imageid" />
            <hlink name="imageref" />
            <tokenfield name="token">
                <script>
                    function onDragStart(button, x, y, draginfo)
                        Debug.chat(window.parent);

                        draginfo.setType("token");
                        if icon and icon[1] then
                            draginfo.setIcon(icon[1]);
                        end
                        if token and token[1] then
                            draginfo.setTokenData(token[1]);
                        end
					end
					
					function onDragEnd(draginfo)						
						local _,dropref = draginfo.getTokenData();
						window.setLink(dropref);
						return true;
					end
                </script>
                <bounds>0,0,34,34</bounds>
                <empty>token_vanguard_friend</empty>
                <readonly />
                <nodrop />
            </tokenfield>
            <buttoncontrol name="linked">
				<bounds>2,2,24,24</bounds>
				<invisible />
				<icon normal="poll_check" pressed="poll_check" />
				<script>
					function onButtonPress()
						if Session.IsHost then
							window.clearLink();
						end
					end
				</script>
			</buttoncontrol>
        </sheetdata>
    </windowclass> -->
</root>